{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\src\\\\components\\\\Main.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  // On file select (from the pop up) \n  // On file upload (click the upload button) \n  // File content to be displayed after \n  // file upload is complete \n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      // Initially, no file is selected \n      selectedFile: null\n    };\n\n    _this.onFileChange = function (event) {\n      // Update the state \n      _this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    _this.onFileUpload = function () {\n      // Create an object of formData \n      var formData = new FormData(); // Update the formData object \n\n      formData.append(\"myFile\", _this.state.selectedFile, _this.state.selectedFile.name); // Details of the uploaded file \n\n      console.log(_this.state.selectedFile); // Request made to the backend api \n      // Send formData object \n\n      axios.post(\"http://localhost:3000/upload.php\", formData);\n    };\n\n    _this.fileData = function () {\n      if (_this.state.selectedFile) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: _this.state.selectedFile,\n          alt: \"img\",\n          width: \"320px\",\n          height: \"400px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"File Details:\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"File Name: \", _this.state.selectedFile.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"File Type: \", _this.state.selectedFile.type), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"Last Modified:\", \" \", _this.state.selectedFile.lastModifiedDate.toDateString()));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Choose before Pressing the Upload button\"));\n      }\n    };\n\n    _this.onImageChange = function (event) {\n      if (event.target.files && event.target.files[0]) {\n        var img = event.target.files[0];\n\n        _this.setState({\n          image: URL.createObjectURL(img)\n        });\n      }\n    };\n\n    _this.state = {\n      image: null\n    };\n    _this.onImageChange = _this.onImageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        id: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n        href: \"http://www.dappuniversity.com/bootcamp\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Portrait Marketplace\"), React.createElement(\"ul\", {\n        className: \"navbar-nav px-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item text-nowrap d-none d-sm-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.props.account))))), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Add Portrait\"), React.createElement(\"form\", {\n        action: \"upload.php\",\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n          var name = _this2.portraitName.value;\n          var price = window.web3.utils.toWei(_this2.portraitPrice.value.toString(), 'Ether');\n\n          _this2.props.createPortrait(name, price);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"myFile\",\n        type: \"file\",\n        ref: function ref(input) {\n          _this2.portraitName = input;\n        },\n        onChange: this.onImageChange,\n        className: \"form-control\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"portraitName\",\n        type: \"text\",\n        ref: function ref(input) {\n          _this2.portraitName = input;\n        },\n        className: \"form-control\",\n        placeholder: \"Portrait Name\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"portraitPrice\",\n        type: \"text\",\n        ref: function ref(input) {\n          _this2.portraitPrice = input;\n        },\n        className: \"form-control\",\n        placeholder: \"Portrait Price\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Add Portrait\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Buy Portrait\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Owner\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        id: \"portraitList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.props.portraits.map(function (portrait, key) {\n        return React.createElement(\"tr\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, portrait.id.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, portrait.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, window.web3.utils.fromWei(portrait.price.toString(), 'Ether'), \" Eth\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, portrait.owner), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, !portrait.purchased ? React.createElement(\"button\", {\n          name: portrait.id,\n          value: portrait.price,\n          onClick: function onClick(event) {\n            _this2.props.purchasePortrait(event.target.name, event.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Buy\") : null));\n      }))));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"sources":["C:\\Users\\Rosie\\Desktop\\marketplace\\src\\components\\Main.js"],"names":["React","Component","axios","Main","props","state","selectedFile","onFileChange","event","setState","target","files","onFileUpload","formData","FormData","append","name","console","log","post","fileData","type","lastModifiedDate","toDateString","onImageChange","img","image","URL","createObjectURL","bind","account","preventDefault","portraitName","value","price","window","web3","utils","toWei","portraitPrice","toString","createPortrait","input","portraits","map","portrait","key","id","fromWei","owner","purchased","purchasePortrait"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Main extends Component {\n\n   \n    state = { \n  \n      // Initially, no file is selected \n      selectedFile: null\n    }; \n     \n    // On file select (from the pop up) \n    onFileChange = event => { \n     \n      // Update the state \n      this.setState({ selectedFile: event.target.files[0] }); \n     \n    }; \n     \n    // On file upload (click the upload button) \n    onFileUpload = () => { \n     \n      // Create an object of formData \n      const formData = new FormData(); \n     \n      // Update the formData object \n      formData.append( \n        \"myFile\", \n        this.state.selectedFile, \n        this.state.selectedFile.name \n      ); \n     \n      // Details of the uploaded file \n      console.log(this.state.selectedFile); \n     \n      // Request made to the backend api \n      // Send formData object \n      axios.post(\"http://localhost:3000/upload.php\", formData); \n    }; \n     \n    // File content to be displayed after \n    // file upload is complete \n    fileData = () => { \n     \n      if (this.state.selectedFile) { \n          \n        return ( \n          <div> \n            <img src={this.state.selectedFile} alt=\"img\" width=\"320px\" height=\"400px\"/>\n            <h2>File Details:</h2> \n            <p>File Name: {this.state.selectedFile.name}</p> \n            <p>File Type: {this.state.selectedFile.type}</p> \n            <p> \n              Last Modified:{\" \"} \n              {this.state.selectedFile.lastModifiedDate.toDateString()} \n            </p> \n          </div> \n        ); \n      } else { \n        return ( \n          <div> \n            <br /> \n            <h4>Choose before Pressing the Upload button</h4> \n          </div> \n        ); \n      } \n    }; \n     \n  constructor(props) {\n    super(props);\n    this.state = {\n      image: null\n    };\n\n    this.onImageChange = this.onImageChange.bind(this);\n  }\n\n  onImageChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      this.setState({\n        image: URL.createObjectURL(img)\n      });\n    }\n  };\n\n  render() {\n    return (\n      \n      \n      <div id=\"content\">\n        <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n        <a\n          className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n          href=\"http://www.dappuniversity.com/bootcamp\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Portrait Marketplace\n        </a>\n        \n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap d-none d-sm-none d-sm-block\">\n            <small className=\"text-white\"><span id=\"account\">{this.props.account}</span></small>\n          </li>\n        </ul>\n      </nav>\n\n        <h1>Add Portrait</h1>\n        <form action=\"upload.php\" onSubmit={(event) => {\n          event.preventDefault()\n          const name = this.portraitName.value\n          const price = window.web3.utils.toWei(this.portraitPrice.value.toString(), 'Ether')\n          this.props.createPortrait(name, price)\n        }}>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"myFile\"\n              type=\"file\"\n              ref={(input) => { this.portraitName = input }}\n              onChange={this.onImageChange} \n              className=\"form-control\"\n              required />\n          </div>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"portraitName\"\n              type=\"text\"\n              ref={(input) => { this.portraitName = input }}\n              className=\"form-control\"\n              placeholder=\"Portrait Name\"\n              required />\n          </div>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"portraitPrice\"\n              type=\"text\"\n              ref={(input) => { this.portraitPrice = input }}\n              className=\"form-control\"\n              placeholder=\"Portrait Price\"\n              required />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">Add Portrait</button>\n        </form>\n           \n        <p>&nbsp;</p> \n        <h2>Buy Portrait</h2>\n        \n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">Owner</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody id=\"portraitList\">\n            { this.props.portraits.map((portrait, key) => {\n              return(\n                <tr key={key}>\n                  <th scope=\"row\">{portrait.id.toString()}</th>\n                  <td>{portrait.name}</td>\n                  <td>{window.web3.utils.fromWei(portrait.price.toString(), 'Ether')} Eth</td>\n                  <td>{portrait.owner}</td>\n                  <td>\n                    { !portrait.purchased\n                      ? <button\n                          name={portrait.id}\n                          value={portrait.price}\n                          onClick={(event) => {\n                            this.props.purchasePortrait(event.target.name, event.target.value)\n                          }}\n                        >\n                          Buy\n                        </button>\n                      : null\n                    }\n                    </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      \n    );\n  }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}