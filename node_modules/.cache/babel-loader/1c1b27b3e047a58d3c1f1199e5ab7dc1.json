{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Rosie\\\\Desktop\\\\marketplace\\\\src\\\\components\\\\Main.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  _createClass(Main, [{\n    key: \"onDrop\",\n    value: function onDrop(picture) {\n      React.createElement(\"img\", {\n        src: picture,\n        alt: \"img\",\n        width: \"320px\",\n        height: \"400px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9\n        },\n        __self: this\n      });\n      this.setState({\n        pictures: this.state.pictures.concat(picture)\n      });\n    }\n  }]);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    // super(props);\n    // this.state = {\n    //   image: null\n    // };\n    // this.onImageChange = this.onImageChange.bind(this);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      // Initially, no file is selected \n      selectedFile: null\n    };\n\n    _this.onFileChange = function (event) {\n      // Update the state \n      _this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    _this.onFileUpload = function () {\n      // Create an object of formData \n      var formData = new FormData(); // Update the formData object \n\n      formData.append(\"myFile\", _this.state.selectedFile, _this.state.selectedFile.name); // Details of the uploaded file \n\n      console.log(_this.state.selectedFile); // Request made to the backend api \n      // Send formData object \n\n      axios.post(\"http://localhost/components/upload.php\", formData);\n    };\n\n    _this.fileData = function () {\n      if (_this.state.selectedFile) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"File Details:\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"File Name: \", _this.state.selectedFile.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"File Type: \", _this.state.selectedFile.type), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Last Modified:\", \" \", _this.state.selectedFile.lastModifiedDate.toDateString()));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Choose before Pressing the Upload button\"));\n      }\n    };\n\n    _this.onImageChange = function (event) {\n      if (event.target.files && event.target.files[0]) {\n        var img = event.target.files[0];\n\n        _this.setState({\n          image: URL.createObjectURL(img)\n        });\n      }\n    };\n\n    _this.state = {\n      pictures: []\n    };\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        id: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n        href: \"http://www.dappuniversity.com/bootcamp\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Portrait Marketplace\"), React.createElement(\"ul\", {\n        className: \"navbar-nav px-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item text-nowrap d-none d-sm-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.props.account))))), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Add Portrait\"), React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n          var name = _this2.portraitName.value;\n          var price = window.web3.utils.toWei(_this2.portraitPrice.value.toString(), 'Ether');\n\n          _this2.props.createPortrait(name, price);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"portraitImage\",\n        type: \"file\",\n        ref: function ref(input) {\n          _this2.portraitName = input;\n        },\n        onChange: this.onImageChange,\n        className: \"form-control\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"portraitName\",\n        type: \"text\",\n        ref: function ref(input) {\n          _this2.portraitName = input;\n        },\n        className: \"form-control\",\n        placeholder: \"Portrait Name\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group mr-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"portraitPrice\",\n        type: \"text\",\n        ref: function ref(input) {\n          _this2.portraitPrice = input;\n        },\n        className: \"form-control\",\n        placeholder: \"Portrait Price\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Add Portrait\")), React.createElement(ImageUploader, {\n        withIcon: true,\n        buttonText: \"Choose\\xA0images\",\n        onChange: this.onDrop,\n        imgExtension: ['.jpg', '.gif', '.png', '.gif'],\n        maxFileSize: 52428800,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), \"\\xA0\", React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.onFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.onFileUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Upload!\")), this.fileData()), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Buy Portrait\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Owner\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        id: \"portraitList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, this.props.portraits.map(function (portrait, key) {\n        return React.createElement(\"tr\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, portrait.id.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, portrait.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, window.web3.utils.fromWei(portrait.price.toString(), 'Ether'), \" Eth\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, portrait.owner), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, !portrait.purchased ? React.createElement(\"button\", {\n          name: portrait.id,\n          value: portrait.price,\n          onClick: function onClick(event) {\n            _this2.props.purchasePortrait(event.target.name, event.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \"Buy\") : null));\n      }))));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"sources":["C:\\Users\\Rosie\\Desktop\\marketplace\\src\\components\\Main.js"],"names":["React","Component","axios","ImageUploader","Main","picture","setState","pictures","state","concat","props","selectedFile","onFileChange","event","target","files","onFileUpload","formData","FormData","append","name","console","log","post","fileData","type","lastModifiedDate","toDateString","onImageChange","img","image","URL","createObjectURL","onDrop","bind","account","preventDefault","portraitName","value","price","window","web3","utils","toWei","portraitPrice","toString","createPortrait","input","portraits","map","portrait","key","id","fromWei","owner","purchased","purchasePortrait"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\n\nclass Main extends Component {\n\n \n       onDrop(picture) {  \n              <img src={picture} alt=\"img\" width=\"320px\" height=\"400px\"/>\n              this.setState({   \n                   pictures: this.state.pictures.concat(picture),   \n               }); \n             } \n\n\n\n    state = { \n  \n      // Initially, no file is selected \n      selectedFile: null\n    }; \n     \n    // On file select (from the pop up) \n    onFileChange = event => { \n     \n      // Update the state \n      this.setState({ selectedFile: event.target.files[0] }); \n     \n    }; \n     \n    // On file upload (click the upload button) \n    onFileUpload = () => { \n     \n      // Create an object of formData \n      const formData = new FormData(); \n     \n      // Update the formData object \n      formData.append( \n        \"myFile\", \n        this.state.selectedFile, \n        this.state.selectedFile.name \n      ); \n     \n      // Details of the uploaded file \n      console.log(this.state.selectedFile); \n     \n      // Request made to the backend api \n      // Send formData object \n      axios.post(\"http://localhost/components/upload.php\", formData); \n    }; \n     \n    // File content to be displayed after \n    // file upload is complete \n    fileData = () => { \n     \n      if (this.state.selectedFile) { \n          \n        return ( \n          <div> \n             \n            <h2>File Details:</h2> \n            <p>File Name: {this.state.selectedFile.name}</p> \n            <p>File Type: {this.state.selectedFile.type}</p> \n            <p> \n              Last Modified:{\" \"} \n              {this.state.selectedFile.lastModifiedDate.toDateString()} \n            </p> \n          </div> \n        ); \n      } else { \n        return ( \n          <div> \n            <br /> \n            <h4>Choose before Pressing the Upload button</h4> \n          </div> \n        ); \n      } \n    }; \n     \n  constructor(props) {\n    // super(props);\n    // this.state = {\n    //   image: null\n    // };\n\n    // this.onImageChange = this.onImageChange.bind(this);\n    super(props); \n    this.state = { pictures: [] };   \n    this.onDrop = this.onDrop.bind(this);  \n  }\n\n  onImageChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      this.setState({\n        image: URL.createObjectURL(img)\n      });\n    }\n  };\n\n  render() {\n    return (\n      \n      \n      <div id=\"content\">\n        <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n        <a\n          className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n          href=\"http://www.dappuniversity.com/bootcamp\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Portrait Marketplace\n        </a>\n        \n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap d-none d-sm-none d-sm-block\">\n            <small className=\"text-white\"><span id=\"account\">{this.props.account}</span></small>\n          </li>\n        </ul>\n      </nav>\n\n        <h1>Add Portrait</h1>\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          const name = this.portraitName.value\n          const price = window.web3.utils.toWei(this.portraitPrice.value.toString(), 'Ether')\n          this.props.createPortrait(name, price)\n        }}>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"portraitImage\"\n              type=\"file\"\n              ref={(input) => { this.portraitName = input }}\n              onChange={this.onImageChange} \n              className=\"form-control\"\n              required />\n          </div>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"portraitName\"\n              type=\"text\"\n              ref={(input) => { this.portraitName = input }}\n              className=\"form-control\"\n              placeholder=\"Portrait Name\"\n              required />\n          </div>\n          <div className=\"form-group mr-sm-2\">\n            <input\n              id=\"portraitPrice\"\n              type=\"text\"\n              ref={(input) => { this.portraitPrice = input }}\n              className=\"form-control\"\n              placeholder=\"Portrait Price\"\n              required />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">Add Portrait</button>\n        </form>\n           <ImageUploader withIcon={true} buttonText='Choose images' onChange={this.onDrop}\n            imgExtension={['.jpg', '.gif', '.png', '.gif']}\n            maxFileSize={52428800} /> \n        <p>&nbsp;</p>\n        <div> \n            \n            <div> \n                <input type=\"file\" onChange={this.onFileChange} /> \n                <button onClick={this.onFileUpload}> \n                  Upload! \n                </button> \n            </div> \n          {this.fileData()} \n        </div> \n        <h2>Buy Portrait</h2>\n        \n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">Owner</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody id=\"portraitList\">\n            { this.props.portraits.map((portrait, key) => {\n              return(\n                <tr key={key}>\n                  <th scope=\"row\">{portrait.id.toString()}</th>\n                  <td>{portrait.name}</td>\n                  <td>{window.web3.utils.fromWei(portrait.price.toString(), 'Ether')} Eth</td>\n                  <td>{portrait.owner}</td>\n                  <td>\n                    { !portrait.purchased\n                      ? <button\n                          name={portrait.id}\n                          value={portrait.price}\n                          onClick={(event) => {\n                            this.props.purchasePortrait(event.target.name, event.target.value)\n                          }}\n                        >\n                          Buy\n                        </button>\n                      : null\n                    }\n                    </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      \n    );\n  }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}